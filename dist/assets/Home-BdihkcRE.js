import{_ as pe}from"./_plugin-vue_export-helper--ScQKs0c.js";/* empty css                   *//* empty css                 */import{i as J,L as ve}from"./index-CthE2ViS.js";/* empty css               *//* empty css                     *//* empty css                *//* empty css                     */import{r as n,I as K,J as B,c as k,o as y,b as o,d as a,K as me,G as u,w as t,E as fe,f as _e,n as z,g as he,L as be,M as ge,h as ye,N as we,O as Ce,P as Ee,Q as xe,R as De,k as Me,l as s,S as Ve,s as q,T as ke,U as Le,V as Re,W as Se,X as ze,Y as H,Z as Fe,_ as Te,$ as Ae,a0 as Ue,a1 as Ie}from"./index-CBu6_2cB.js";const Pe={__name:"PieChart",props:{chartData:{type:Object,required:!0}},setup(L){const r=L,d=n(null);let c=null;const v=()=>{d.value&&(c=J(d.value),f())},f=()=>{if(!c)return;const _={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",data:r.chartData.labels},series:[{name:"告警类型分布",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!1},data:r.chartData.labels.map((w,E)=>({value:r.chartData.datasets[0].data[E],name:w,itemStyle:{color:r.chartData.datasets[0].backgroundColor[E]}}))}]};c.setOption(_)};return K(()=>r.chartData,()=>{f()},{deep:!0}),B(()=>{v(),window.addEventListener("resize",()=>{c&&c.resize()})}),(_,w)=>(y(),k("div",{ref_key:"chartRef",ref:d,style:{width:"100%",height:"100%"}},null,512))}},$e={__name:"LineChart",props:{chartData:{type:Object,required:!0}},setup(L){const r=L,d=n(null);let c=null;const v=()=>{d.value&&(c=J(d.value),f())},f=()=>{if(!c)return;const _={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:r.chartData.labels,axisLine:{lineStyle:{color:"#dcdfe6"}},axisLabel:{color:"#606266"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#dcdfe6"}},axisLabel:{color:"#606266"},splitLine:{lineStyle:{color:"#ebeef5"}}},series:[{name:r.chartData.datasets[0].label,type:"line",smooth:!0,data:r.chartData.datasets[0].data,itemStyle:{color:r.chartData.datasets[0].borderColor},lineStyle:{color:r.chartData.datasets[0].borderColor,width:3},symbol:"circle",symbolSize:8,areaStyle:{color:new ve(0,0,0,1,[{offset:0,color:r.chartData.datasets[0].backgroundColor+"80"},{offset:1,color:r.chartData.datasets[0].backgroundColor+"10"}])}}]};c.setOption(_)};return K(()=>r.chartData,()=>{f()},{deep:!0}),B(()=>{v(),window.addEventListener("resize",()=>{c&&c.resize()})}),(_,w)=>(y(),k("div",{ref_key:"chartRef",ref:d,style:{width:"100%",height:"100%"}},null,512))}},Be={class:"dashboard-container"},Oe={class:"header-container"},Ne={class:"status-indicator"},We={class:"stats-row"},je={class:"stat-item"},Ge={class:"stat-value warning"},qe={class:"stat-item"},He={class:"stat-value processing"},Je={class:"stat-item"},Ke={class:"stat-value success"},Qe={class:"stat-item"},Xe={class:"stat-value primary"},Ye={class:"chart-row"},Ze={class:"chart-header"},ea={class:"pie-chart-container"},aa={class:"chart-header"},ta={class:"line-chart-container"},la={class:"table-header"},oa={class:"pagination-container"},sa={key:0,class:"detail-content"},na={__name:"Home",setup(L){const r=n("normal"),d=n({dateRange:"",type:""}),c=[{value:"network",label:"网络异常"},{value:"server",label:"服务器异常"},{value:"database",label:"数据库异常"},{value:"application",label:"应用异常"}],v=n({todayAlerts:12,processing:5,resolved:32,availability:99.8}),f=n({labels:["网络异常","服务器异常","数据库异常","应用异常"],datasets:[{data:[30,40,20,10],backgroundColor:["#409EFF","#67C23A","#E6A23C","#F56C6C"],borderWidth:1}]}),_=n({labels:["1月","2月","3月","4月","5月","6月","7月"],datasets:[{label:"告警数量",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:"#409EFF",borderColor:"#409EFF",tension:.1}]}),w=n("7d"),E=n("7d"),F=n([{id:"ALERT-2023-001",date:"2023-01-01 08:30:22",name:"CPU使用率过高",level:"严重",value:"95%",status:"已解决",description:"服务器CPU使用率超过阈值"},{id:"ALERT-2023-002",date:"2023-01-02 14:15:33",name:"内存不足",level:"警告",value:"85%",status:"处理中",description:"应用服务器内存使用率持续偏高"},{id:"ALERT-2023-003",date:"2023-01-03 09:45:12",name:"网络延迟",level:"一般",value:"320ms",status:"未处理",description:"核心交换机到数据库服务器网络延迟增加"},{id:"ALERT-2023-004",date:"2023-01-04 16:20:45",name:"数据库连接数满",level:"严重",value:"100/100",status:"已解决",description:"数据库连接池耗尽"},{id:"ALERT-2023-005",date:"2023-01-05 11:10:30",name:"应用响应超时",level:"警告",value:"5.2s",status:"处理中",description:"关键业务接口响应时间超过阈值"}]),T=n(1),A=n(10),Q=n(50),U=n(!1),x=n(!1),i=n(null),D=n(!1),I=n("csv"),O=n(""),M=()=>{U.value=!0,setTimeout(()=>{f.value={labels:["网络异常","服务器异常","数据库异常","应用异常"],datasets:[{data:[Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100)],backgroundColor:["#409EFF","#67C23A","#E6A23C","#F56C6C"],borderWidth:1}]},_.value={labels:["1月","2月","3月","4月","5月","6月","7月"],datasets:[{label:"告警数量",data:[Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100),Math.floor(Math.random()*100)],fill:!1,backgroundColor:"#409EFF",borderColor:"#409EFF",tension:.1}]},v.value={todayAlerts:Math.floor(Math.random()*20),processing:Math.floor(Math.random()*10),resolved:Math.floor(Math.random()*50),availability:(98+Math.random()*2).toFixed(1)},U.value=!1,z.success("数据查询成功")},800)},X=()=>{d.value={dateRange:"",type:""},M()},Y=p=>{A.value=p,M()},Z=p=>{T.value=p,M()},N=p=>{switch(p){case"严重":return"danger";case"警告":return"warning";default:return""}},ee=p=>{i.value=p,x.value=!0},ae=p=>{p&&(p.status="已解决",x.value=!1,z.success("已标记为已解决"))},te=p=>{Ie.confirm("确认删除该告警记录吗?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=F.value.findIndex(R=>R.id===p.id);e!==-1&&(F.value.splice(e,1),z.success("删除成功"))}).catch(()=>{})},le=()=>{D.value=!0},oe=()=>{D.value=!1,z.success(`数据已导出为${I.value==="csv"?"CSV":"Excel"}格式`)};return B(()=>{M(),setInterval(()=>{r.value=Math.random()>.1?"normal":"error"},1e4)}),(p,e)=>{const R=we,V=ye,P=ge,b=De,$=Ce,m=Me,se=be,W=he,h=fe,C=Le,S=Re,ne=ke,re=ze,g=Te,de=Fe,j=_e,G=Ue,ie=Ae,ue=Se;return y(),k("div",Be,[o("div",Oe,[e[13]||(e[13]=o("h2",null,"泰捷欣监控设备数据压缩上传应用系统",-1)),o("div",Ne,[o("span",{class:me(["status-dot",{active:r.value==="normal"}])},null,2),o("span",null,"系统状态: "+u(r.value==="normal"?"正常运行":"异常"),1)])]),a(h,{class:"form-card",shadow:"hover"},{default:t(()=>[a(W,{model:d.value,"label-width":"120px"},{default:t(()=>[a(se,{gutter:20},{default:t(()=>[a(P,{span:8},{default:t(()=>[a(V,{label:"日期范围"},{default:t(()=>[a(R,{modelValue:d.value.dateRange,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"full-width"},null,8,["modelValue"])]),_:1})]),_:1}),a(P,{span:8},{default:t(()=>[a(V,{label:"筛选类型"},{default:t(()=>[a($,{modelValue:d.value.type,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value.type=l),placeholder:"请选择",class:"full-width"},{default:t(()=>[(y(),k(Ee,null,xe(c,l=>a(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(P,{span:8},{default:t(()=>[a(V,null,{default:t(()=>[a(m,{type:"primary",onClick:M},{default:t(()=>[...e[14]||(e[14]=[s("查询",-1)])]),_:1}),a(m,{onClick:X},{default:t(()=>[...e[15]||(e[15]=[s("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),o("div",We,[a(h,{class:"stat-card",shadow:"hover"},{default:t(()=>[o("div",je,[e[16]||(e[16]=o("div",{class:"stat-title"},"今日告警",-1)),o("div",Ge,u(v.value.todayAlerts),1)])]),_:1}),a(h,{class:"stat-card",shadow:"hover"},{default:t(()=>[o("div",qe,[e[17]||(e[17]=o("div",{class:"stat-title"},"处理中",-1)),o("div",He,u(v.value.processing),1)])]),_:1}),a(h,{class:"stat-card",shadow:"hover"},{default:t(()=>[o("div",Je,[e[18]||(e[18]=o("div",{class:"stat-title"},"已解决",-1)),o("div",Ke,u(v.value.resolved),1)])]),_:1}),a(h,{class:"stat-card",shadow:"hover"},{default:t(()=>[o("div",Qe,[e[19]||(e[19]=o("div",{class:"stat-title"},"系统可用率",-1)),o("div",Xe,u(v.value.availability)+"%",1)])]),_:1})]),o("div",Ye,[a(h,{class:"chart-card",shadow:"hover"},{default:t(()=>[o("div",Ze,[e[20]||(e[20]=o("h3",null,"告警类型分布",-1)),a($,{modelValue:w.value,"onUpdate:modelValue":e[2]||(e[2]=l=>w.value=l),size:"small",style:{width:"120px"}},{default:t(()=>[a(b,{label:"近7天",value:"7d"}),a(b,{label:"近30天",value:"30d"}),a(b,{label:"近90天",value:"90d"})]),_:1},8,["modelValue"])]),o("div",ea,[a(Pe,{"chart-data":f.value},null,8,["chart-data"])])]),_:1}),a(h,{class:"chart-card",shadow:"hover"},{default:t(()=>[o("div",aa,[e[21]||(e[21]=o("h3",null,"告警趋势",-1)),a($,{modelValue:E.value,"onUpdate:modelValue":e[3]||(e[3]=l=>E.value=l),size:"small",style:{width:"120px"}},{default:t(()=>[a(b,{label:"近7天",value:"7d"}),a(b,{label:"近30天",value:"30d"}),a(b,{label:"近90天",value:"90d"})]),_:1},8,["modelValue"])]),o("div",ta,[a($e,{"chart-data":_.value},null,8,["chart-data"])])]),_:1})]),a(h,{class:"table-card",shadow:"hover"},{default:t(()=>[o("div",la,[e[23]||(e[23]=o("h3",null,"告警事件列表",-1)),a(m,{type:"primary",size:"small",onClick:le},{default:t(()=>[...e[22]||(e[22]=[s("导出数据",-1)])]),_:1})]),Ve((y(),q(ne,{data:F.value,border:"",style:{width:"100%"}},{default:t(()=>[a(C,{prop:"date",label:"发生时间",width:"180",sortable:""}),a(C,{prop:"name",label:"告警名称",width:"180"}),a(C,{prop:"level",label:"级别",width:"100"},{default:t(l=>[a(S,{type:N(l.row.level)},{default:t(()=>[s(u(l.row.level),1)]),_:2},1032,["type"])]),_:1}),a(C,{prop:"value",label:"指标值"}),a(C,{prop:"status",label:"处理状态",width:"120"},{default:t(l=>[a(S,{type:l.row.status==="已解决"?"success":l.row.status==="处理中"?"warning":"danger"},{default:t(()=>[s(u(l.row.status),1)]),_:2},1032,["type"])]),_:1}),a(C,{label:"操作",width:"180"},{default:t(l=>[a(m,{size:"small",onClick:ce=>ee(l.row)},{default:t(()=>[...e[24]||(e[24]=[s("详情",-1)])]),_:1},8,["onClick"]),a(m,{size:"small",type:"danger",onClick:ce=>te(l.row)},{default:t(()=>[...e[25]||(e[25]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[ue,U.value]]),o("div",oa,[a(re,{"current-page":T.value,"onUpdate:currentPage":e[4]||(e[4]=l=>T.value=l),"page-size":A.value,"onUpdate:pageSize":e[5]||(e[5]=l=>A.value=l),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:Q.value,onSizeChange:Y,onCurrentChange:Z},null,8,["current-page","page-size","total"])])]),_:1}),a(j,{modelValue:x.value,"onUpdate:modelValue":e[8]||(e[8]=l=>x.value=l),title:"告警详情",width:"50%"},{footer:t(()=>[a(m,{onClick:e[6]||(e[6]=l=>x.value=!1)},{default:t(()=>[...e[26]||(e[26]=[s("关闭",-1)])]),_:1}),i.value&&i.value.status!=="已解决"?(y(),q(m,{key:0,type:"primary",onClick:e[7]||(e[7]=l=>ae(i.value))},{default:t(()=>[...e[27]||(e[27]=[s("标记为已解决",-1)])]),_:1})):H("",!0)]),default:t(()=>[i.value?(y(),k("div",sa,[a(de,{column:1,border:""},{default:t(()=>[a(g,{label:"告警ID"},{default:t(()=>[s(u(i.value.id),1)]),_:1}),a(g,{label:"告警名称"},{default:t(()=>[s(u(i.value.name),1)]),_:1}),a(g,{label:"发生时间"},{default:t(()=>[s(u(i.value.date),1)]),_:1}),a(g,{label:"告警级别"},{default:t(()=>[a(S,{type:N(i.value.level)},{default:t(()=>[s(u(i.value.level),1)]),_:1},8,["type"])]),_:1}),a(g,{label:"指标值"},{default:t(()=>[s(u(i.value.value),1)]),_:1}),a(g,{label:"处理状态"},{default:t(()=>[a(S,{type:i.value.status==="已解决"?"success":"warning"},{default:t(()=>[s(u(i.value.status),1)]),_:1},8,["type"])]),_:1}),a(g,{label:"详细描述"},{default:t(()=>[s(u(i.value.description||"暂无详细描述"),1)]),_:1})]),_:1})])):H("",!0)]),_:1},8,["modelValue"]),a(j,{modelValue:D.value,"onUpdate:modelValue":e[12]||(e[12]=l=>D.value=l),title:"导出数据",width:"30%"},{footer:t(()=>[a(m,{onClick:e[11]||(e[11]=l=>D.value=!1)},{default:t(()=>[...e[30]||(e[30]=[s("取消",-1)])]),_:1}),a(m,{type:"primary",onClick:oe},{default:t(()=>[...e[31]||(e[31]=[s("导出",-1)])]),_:1})]),default:t(()=>[a(W,{"label-width":"100px"},{default:t(()=>[a(V,{label:"导出格式"},{default:t(()=>[a(ie,{modelValue:I.value,"onUpdate:modelValue":e[9]||(e[9]=l=>I.value=l)},{default:t(()=>[a(G,{label:"csv"},{default:t(()=>[...e[28]||(e[28]=[s("CSV",-1)])]),_:1}),a(G,{label:"excel"},{default:t(()=>[...e[29]||(e[29]=[s("Excel",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(V,{label:"时间范围"},{default:t(()=>[a(R,{modelValue:O.value,"onUpdate:modelValue":e[10]||(e[10]=l=>O.value=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"full-width"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},_a=pe(na,[["__scopeId","data-v-3d5589fd"]]);export{_a as default};
