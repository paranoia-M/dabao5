import{_ as te}from"./_plugin-vue_export-helper--ScQKs0c.js";/* empty css                   *//* empty css                       *//* empty css                   *//* empty css                             *//* empty css                        *//* empty css               *//* empty css                  *//* empty css                 *//* empty css                *//* empty css                     *//* empty css                             */import{a as le,r as p,m as ae,z as oe,c as ne,o as Y,e as t,w as l,E as se,f as ie,d as m,g as re,h as de,J as ue,K as pe,T as ce,i as me,j as ge,k as n,U as fe,H as ve,L as _e,M as be,N as ye,D as v,X as we,O as Ce,P as he,Q as ke,F as Me,Z as Ve,_ as De,l as U}from"./index-Dr9TPxTp.js";const Ee={class:"log-management-container"},xe={class:"search-form"},Se={class:"table-header"},$e={class:"table-actions"},Le={class:"pagination-container"},Te={class:"log-detail"},Ie={class:"log-content"},Ue={class:"export-options"},ze={__name:"LogManagement",setup(Re){const s=le({type:"",dateRange:[],keyword:""}),L=p([]),T=p(!1),C=p(1),h=p(10),z=p(0),k=p([]),S=p(!1),g=p({}),M=p(!1),I=p("csv"),V=p("current"),R=ae(()=>k.value.length>0),B=a=>({system:"",security:"danger",operation:"warning",network:"success"})[a]||"",P=a=>({system:"ç³»ç»Ÿæ—¥å¿—",security:"å®‰å…¨æ—¥å¿—",operation:"æ“ä½œæ—¥å¿—",network:"ç½‘ç»œæ—¥å¿—"})[a]||"æœªçŸ¥ç±»å‹",N=()=>{const a=["system","security","operation","network"],e=["admin","user1","user2","operator","auditor"],d=["192.168.1.1","10.0.0.1","172.16.0.1","192.168.0.100"],_=["ç™»å½•ç³»ç»Ÿ","ä¿®æ”¹å¯†ç ","è®¿é—®æ•æ„Ÿæ•°æ®","é…ç½®ç½‘ç»œå‚æ•°","ç³»ç»Ÿé‡å¯","é˜²ç«å¢™è§„åˆ™æ›´æ–°","ç”¨æˆ·æƒé™å˜æ›´","å®‰å…¨ç­–ç•¥è°ƒæ•´"],i=[];for(let u=1;u<=50;u++){const b=a[Math.floor(Math.random()*a.length)],r=e[Math.floor(Math.random()*e.length)],E=d[Math.floor(Math.random()*d.length)],x=_[Math.floor(Math.random()*_.length)],c=Math.floor(Math.random()*72),$=Math.floor(Math.random()*60),f=new Date;f.setHours(f.getHours()-c),f.setMinutes(f.getMinutes()-$),i.push({id:u,type:b,content:`${r} ${x}`,ip:E,time:f.toLocaleString(),user:r,fullContent:`è¯¦ç»†æ—¥å¿—å†…å®¹ï¼šç”¨æˆ· ${r} (IP: ${E}) äº ${f.toLocaleString()} ${x}ã€‚æ­¤æ“ä½œ${b==="security"?"æ¶‰åŠå®‰å…¨å˜æ›´":"ä¸ºå¸¸è§„æ“ä½œ"}ã€‚`})}return i},D=()=>{T.value=!0,setTimeout(()=>{let e=[...N()];if(s.type&&(e=e.filter(i=>i.type===s.type)),s.dateRange&&s.dateRange.length===2){const[i,u]=s.dateRange;e=e.filter(b=>{const r=new Date(b.time).toISOString().split("T")[0];return r>=i&&r<=u})}if(s.keyword){const i=s.keyword.toLowerCase();e=e.filter(u=>u.content.toLowerCase().includes(i)||u.user.toLowerCase().includes(i)||u.ip.includes(i))}z.value=e.length;const d=(C.value-1)*h.value,_=d+h.value;L.value=e.slice(d,_),T.value=!1},500)},F=()=>{C.value=1,D()},H=()=>{s.type="",s.dateRange=[],s.keyword="",F()},A=a=>{h.value=a,D()},J=a=>{C.value=a,D()},G=a=>{k.value=a},K=a=>{g.value={...a,content:a.fullContent},S.value=!0},Q=()=>{M.value=!0},X=()=>{M.value=!1;let a=[];V.value==="current"?a=L.value:V.value==="all"?a=N():V.value==="selected"&&(a=k.value);const e=I.value,d=a.length;U.success(`æˆåŠŸå¯¼å‡º${d}æ¡æ—¥å¿—æ•°æ®ï¼Œæ ¼å¼ä¸º${e.toUpperCase()}`),console.log("å¯¼å‡ºæ•°æ®:",{format:e,data:a})},Z=()=>{De.confirm("ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„æ—¥å¿—å—ï¼Ÿæ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ—¥å¿—è®°å½•ä¸”ä¸å¯æ¢å¤ï¼","è­¦å‘Š",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning",customClass:"delete-confirm-dialog"}).then(()=>{const a=k.value.map(e=>e.id).join(",");console.log(`åˆ é™¤æ—¥å¿—ID: ${a}`),U.success(`æˆåŠŸåˆ é™¤${k.value.length}æ¡æ—¥å¿—è®°å½•`),D()}).catch(()=>{U.info("å·²å–æ¶ˆåˆ é™¤æ“ä½œ")})};return oe(()=>{D()}),(a,e)=>{const d=pe,_=ue,i=de,u=ce,b=me,r=ge,E=re,x=se,c=be,$=ye,f=_e,q=Ce,y=ke,W=he,j=ie,w=Ve,O=Me,ee=we;return Y(),ne("div",Ee,[t(x,{class:"search-card",shadow:"hover"},{default:l(()=>[m("div",xe,[t(E,{inline:!0,model:s},{default:l(()=>[t(i,{label:"æ—¥å¿—ç±»å‹",class:"form-item-enhanced"},{default:l(()=>[t(_,{modelValue:s.type,"onUpdate:modelValue":e[0]||(e[0]=o=>s.type=o),placeholder:"è¯·é€‰æ‹©æ—¥å¿—ç±»å‹",clearable:""},{default:l(()=>[t(d,{label:"ç³»ç»Ÿæ—¥å¿—",value:"system"}),t(d,{label:"å®‰å…¨æ—¥å¿—",value:"security"}),t(d,{label:"æ“ä½œæ—¥å¿—",value:"operation"}),t(d,{label:"ç½‘ç»œæ—¥å¿—",value:"network"})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"æ—¶é—´èŒƒå›´",class:"form-item-enhanced"},{default:l(()=>[t(u,{modelValue:s.dateRange,"onUpdate:modelValue":e[1]||(e[1]=o=>s.dateRange=o),type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),t(i,{label:"å…³é”®è¯",class:"form-item-enhanced"},{default:l(()=>[t(b,{modelValue:s.keyword,"onUpdate:modelValue":e[2]||(e[2]=o=>s.keyword=o),placeholder:"è¯·è¾“å…¥å…³é”®è¯",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{class:"form-item-enhanced"},{default:l(()=>[t(r,{type:"primary",onClick:F,class:"action-button"},{default:l(()=>[...e[11]||(e[11]=[n("æŸ¥è¯¢",-1)])]),_:1}),t(r,{onClick:H,class:"action-button"},{default:l(()=>[...e[12]||(e[12]=[n("é‡ç½®",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),t(x,{class:"table-card",shadow:"hover"},{default:l(()=>[m("div",Se,[e[15]||(e[15]=m("div",{class:"table-title"},[m("span",{class:"title-icon"},"ğŸ“Š"),m("span",null,"æ—¥å¿—åˆ—è¡¨")],-1)),m("div",$e,[t(r,{type:"primary",onClick:Q,class:"action-button"},{default:l(()=>[...e[13]||(e[13]=[n("å¯¼å‡ºæ—¥å¿—",-1)])]),_:1}),t(r,{type:"danger",onClick:Z,disabled:!R.value,class:"action-button"},{default:l(()=>[...e[14]||(e[14]=[n("æ‰¹é‡åˆ é™¤",-1)])]),_:1},8,["disabled"])])]),fe((Y(),ve(f,{data:L.value,border:"",style:{width:"100%"},onSelectionChange:G,class:"log-table"},{default:l(()=>[t(c,{type:"selection",width:"55"}),t(c,{prop:"id",label:"ID",width:"80"}),t(c,{prop:"type",label:"æ—¥å¿—ç±»å‹",width:"120"},{default:l(({row:o})=>[t($,{type:B(o.type),class:"log-tag"},{default:l(()=>[n(v(P(o.type)),1)]),_:2},1032,["type"])]),_:1}),t(c,{prop:"content",label:"æ—¥å¿—å†…å®¹","min-width":"200"}),t(c,{prop:"ip",label:"IPåœ°å€",width:"150"}),t(c,{prop:"time",label:"æ—¶é—´",width:"180"}),t(c,{prop:"user",label:"æ“ä½œäºº",width:"120"}),t(c,{label:"æ“ä½œ",width:"120",fixed:"right"},{default:l(({row:o})=>[t(r,{size:"small",onClick:Be=>K(o),class:"detail-button"},{default:l(()=>[...e[16]||(e[16]=[n("è¯¦æƒ…",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[ee,T.value]]),m("div",Le,[t(q,{"current-page":C.value,"onUpdate:currentPage":e[3]||(e[3]=o=>C.value=o),"page-size":h.value,"onUpdate:pageSize":e[4]||(e[4]=o=>h.value=o),"page-sizes":[10,20,50,100],total:z.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:A,onCurrentChange:J,class:"log-pagination"},null,8,["current-page","page-size","total"])])]),_:1}),t(j,{modelValue:S.value,"onUpdate:modelValue":e[6]||(e[6]=o=>S.value=o),title:"æ—¥å¿—è¯¦æƒ…",width:"50%",class:"log-detail-dialog"},{footer:l(()=>[t(r,{onClick:e[5]||(e[5]=o=>S.value=!1),class:"action-button"},{default:l(()=>[...e[17]||(e[17]=[n("å…³é—­",-1)])]),_:1})]),default:l(()=>[m("div",Te,[t(W,{column:1,border:"",class:"detail-descriptions"},{default:l(()=>[t(y,{label:"æ—¥å¿—ID"},{default:l(()=>[n(v(g.value.id),1)]),_:1}),t(y,{label:"æ—¥å¿—ç±»å‹"},{default:l(()=>[t($,{type:B(g.value.type),class:"log-tag"},{default:l(()=>[n(v(P(g.value.type)),1)]),_:1},8,["type"])]),_:1}),t(y,{label:"IPåœ°å€"},{default:l(()=>[n(v(g.value.ip),1)]),_:1}),t(y,{label:"æ“ä½œäºº"},{default:l(()=>[n(v(g.value.user),1)]),_:1}),t(y,{label:"æ“ä½œæ—¶é—´"},{default:l(()=>[n(v(g.value.time),1)]),_:1}),t(y,{label:"è¯¦ç»†å†…å®¹"},{default:l(()=>[m("div",Ie,v(g.value.content),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"]),t(j,{modelValue:M.value,"onUpdate:modelValue":e[10]||(e[10]=o=>M.value=o),title:"å¯¼å‡ºæ—¥å¿—",width:"30%",class:"export-dialog"},{footer:l(()=>[t(r,{onClick:e[9]||(e[9]=o=>M.value=!1),class:"action-button"},{default:l(()=>[...e[24]||(e[24]=[n("å–æ¶ˆ",-1)])]),_:1}),t(r,{type:"primary",onClick:X,class:"action-button"},{default:l(()=>[...e[25]||(e[25]=[n("ç¡®è®¤å¯¼å‡º",-1)])]),_:1})]),default:l(()=>[m("div",Ue,[t(E,{"label-position":"top"},{default:l(()=>[t(i,{label:"å¯¼å‡ºæ ¼å¼"},{default:l(()=>[t(O,{modelValue:I.value,"onUpdate:modelValue":e[7]||(e[7]=o=>I.value=o)},{default:l(()=>[t(w,{label:"csv"},{default:l(()=>[...e[18]||(e[18]=[n("CSV",-1)])]),_:1}),t(w,{label:"excel"},{default:l(()=>[...e[19]||(e[19]=[n("Excel",-1)])]),_:1}),t(w,{label:"json"},{default:l(()=>[...e[20]||(e[20]=[n("JSON",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"å¯¼å‡ºèŒƒå›´"},{default:l(()=>[t(O,{modelValue:V.value,"onUpdate:modelValue":e[8]||(e[8]=o=>V.value=o)},{default:l(()=>[t(w,{label:"current"},{default:l(()=>[...e[21]||(e[21]=[n("å½“å‰é¡µ",-1)])]),_:1}),t(w,{label:"all"},{default:l(()=>[...e[22]||(e[22]=[n("å…¨éƒ¨æ•°æ®",-1)])]),_:1}),t(w,{label:"selected",disabled:!R.value},{default:l(()=>[...e[23]||(e[23]=[n("é€‰ä¸­é¡¹",-1)])]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}},Ze=te(ze,[["__scopeId","data-v-ea531e09"]]);export{Ze as default};
