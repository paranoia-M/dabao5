import{_ as ee}from"./_plugin-vue_export-helper--ScQKs0c.js";/* empty css                   *//* empty css                   *//* empty css                     *//* empty css                  *//* empty css                *//* empty css                        *//* empty css               *//* empty css                  *//* empty css                 */import{r as i,m as ae,z as te,c as le,o as k,e as a,w as s,E as se,f as ne,d as p,U as oe,i as ie,Y as ue,j as ce,J as de,K as re,H as me,L as pe,M as ve,N as fe,k as b,D as z,X as ge,O as _e,g as be,h as Ce,a1 as he,l as C,_ as D}from"./index-Dr9TPxTp.js";const xe={class:"system-config-container"},Ve={class:"card-header"},Te={class:"filter-container"},ye={class:"pagination-container"},we={class:"dialog-footer"},Ee={__name:"SystemConfig",setup(Se){const L=[{id:1,name:"防火墙日志保留",value:"90天",description:"网络安全防火墙日志保留周期，建议不少于90天",status:"active",updateTime:"2023-05-15 10:30:22"},{id:2,name:"入侵检测灵敏度",value:"高级",description:"网络入侵检测系统(IDS)的检测灵敏度设置",status:"active",updateTime:"2023-05-16 14:12:45"},{id:3,name:"漏洞扫描频率",value:"每周",description:"系统自动漏洞扫描的执行频率设置",status:"inactive",updateTime:"2023-05-10 09:15:33"},{id:4,name:"登录失败锁定",value:"5次",description:"登录失败次数达到阈值后账户自动锁定",status:"active",updateTime:"2023-05-18 16:45:12"},{id:5,name:"数据加密强度",value:"AES-256",description:"敏感数据传输和存储的加密算法标准",status:"active",updateTime:"2023-05-17 11:20:18"},{id:6,name:"会话超时时间",value:"30分钟",description:"用户无操作后的会话自动超时时间",status:"active",updateTime:"2023-05-19 09:45:22"},{id:7,name:"VPN访问限制",value:"启用",description:"限制非授权IP访问VPN网络",status:"inactive",updateTime:"2023-05-12 13:30:15"}],u=i([]),d=i(!1),f=i(""),h=i(""),r=i(1),g=i(10),V=i(0),m=i(!1),T=i("新增安全配置"),y=i(!1),w=i(null),n=i({name:"",value:"",description:"",status:"active"}),B={name:[{required:!0,message:"安全配置名称不能为空",trigger:"blur"},{min:3,max:50,message:"长度在3到50个字符",trigger:"blur"}],value:[{required:!0,message:"安全参数值不能为空",trigger:"blur"},{min:1,max:100,message:"长度在1到100个字符",trigger:"blur"}]},U=ae(()=>{let t=u.value;f.value&&(t=t.filter(o=>o.name.toLowerCase().includes(f.value.toLowerCase())||o.description.toLowerCase().includes(f.value.toLowerCase()))),h.value&&(t=t.filter(o=>o.status===h.value)),V.value=t.length;const e=(r.value-1)*g.value,c=e+g.value;return t.slice(e,c)});te(()=>{I()});const I=()=>{d.value=!0,setTimeout(()=>{u.value=[...L],V.value=u.value.length,d.value=!1},800)},E=()=>{r.value=1,C.success("安全配置搜索完成")},N=()=>{r.value=1},P=()=>{r.value=1},M=t=>{g.value=t},$=t=>{r.value=t},F=()=>{T.value="新增安全配置",y.value=!1,n.value={name:"",value:"",description:"",status:"active"},m.value=!0},K=t=>{T.value="编辑安全配置",y.value=!0,w.value=t.id,n.value={...t},m.value=!0},j=t=>{const e=t.status==="active"?"inactive":"active",c=e==="active"?"启用":"禁用";D.confirm(`确定要${c}安全配置"${t.name}"吗?`,"安全操作确认",{confirmButtonText:"安全确认",cancelButtonText:"取消操作",type:"warning",customClass:"security-message-box"}).then(()=>{d.value=!0,setTimeout(()=>{const o=u.value.findIndex(_=>_.id===t.id);o!==-1&&(u.value[o].status=e,u.value[o].updateTime=new Date().toLocaleString(),C.success(`安全配置已${c}`)),d.value=!1},500)}).catch(()=>{C.info("已取消安全操作")})},q=()=>{d.value=!0,y.value?setTimeout(()=>{const t=u.value.findIndex(e=>e.id===w.value);t!==-1&&(u.value[t]={...n.value,id:w.value,updateTime:new Date().toLocaleString()}),m.value=!1,C.success("安全配置更新成功"),d.value=!1},500):setTimeout(()=>{const t=u.value.length>0?Math.max(...u.value.map(e=>e.id))+1:1;u.value.unshift({...n.value,id:t,updateTime:new Date().toLocaleString()}),m.value=!1,C.success("安全配置添加成功"),d.value=!1},500)},S=()=>{D.confirm("确定要放弃当前编辑吗? 所有未保存的修改将会丢失","安全操作确认",{confirmButtonText:"确认离开",cancelButtonText:"继续编辑",type:"warning",customClass:"security-message-box"}).then(()=>{m.value=!1}).catch(()=>{})},A=t=>{S(),t()};return(t,e)=>{const c=ce,o=ie,_=re,O=de,v=ve,H=fe,J=pe,Q=_e,R=se,x=Ce,X=he,Y=be,G=ne,W=ge;return k(),le("div",xe,[a(R,{class:"main-card"},{header:s(()=>[p("div",Ve,[e[10]||(e[10]=p("span",{class:"header-title"},"网络安全配置中心",-1)),a(c,{type:"primary",onClick:F,class:"add-btn"},{default:s(()=>[...e[9]||(e[9]=[p("span",{class:"btn-text"},"+ 新增安全配置",-1)])]),_:1})])]),default:s(()=>[p("div",Te,[a(o,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l),placeholder:"搜索安全配置项",class:"search-input",clearable:"",onClear:N,onKeyup:ue(E,["enter"])},{append:s(()=>[a(c,{class:"search-btn",onClick:E},{default:s(()=>[...e[11]||(e[11]=[p("span",{class:"search-icon"},"🔍",-1)])]),_:1})]),_:1},8,["modelValue"]),a(O,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=l=>h.value=l),placeholder:"配置状态",clearable:"",class:"status-select",onChange:P},{default:s(()=>[a(_,{label:"全部状态",value:""}),a(_,{label:"已启用",value:"active"}),a(_,{label:"已禁用",value:"inactive"})]),_:1},8,["modelValue"])]),oe((k(),me(J,{data:U.value,border:"",class:"config-table"},{default:s(()=>[a(v,{prop:"name",label:"安全配置项",width:"200"}),a(v,{prop:"value",label:"参数值",width:"150"}),a(v,{prop:"description",label:"安全描述"}),a(v,{prop:"status",label:"运行状态",width:"120"},{default:s(({row:l})=>[a(H,{type:l.status==="active"?"success":"danger",class:"status-tag"},{default:s(()=>[b(z(l.status==="active"?"运行中":"已停用"),1)]),_:2},1032,["type"])]),_:1}),a(v,{prop:"updateTime",label:"最后更新",width:"180"}),a(v,{label:"安全操作",width:"200",fixed:"right"},{default:s(({row:l})=>[a(c,{size:"small",class:"edit-btn",onClick:Z=>K(l)},{default:s(()=>[...e[12]||(e[12]=[b("配置修改",-1)])]),_:1},8,["onClick"]),a(c,{size:"small",type:l.status==="active"?"danger":"success",class:"toggle-btn",onClick:Z=>j(l)},{default:s(()=>[b(z(l.status==="active"?"立即停用":"激活配置"),1)]),_:2},1032,["type","onClick"])]),_:1})]),_:1},8,["data"])),[[W,d.value]]),p("div",ye,[a(Q,{"current-page":r.value,"onUpdate:currentPage":e[2]||(e[2]=l=>r.value=l),"page-size":g.value,"onUpdate:pageSize":e[3]||(e[3]=l=>g.value=l),"page-sizes":[10,20,30,50],total:V.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:M,onCurrentChange:$,class:"security-pagination"},null,8,["current-page","page-size","total"])])]),_:1}),a(G,{modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=l=>m.value=l),title:T.value,width:"650px","before-close":A,class:"config-dialog"},{footer:s(()=>[p("span",we,[a(c,{onClick:S,class:"cancel-btn"},{default:s(()=>[...e[13]||(e[13]=[b("取消",-1)])]),_:1}),a(c,{type:"primary",onClick:q,class:"confirm-btn"},{default:s(()=>[...e[14]||(e[14]=[b("安全确认",-1)])]),_:1})])]),default:s(()=>[a(Y,{model:n.value,"label-width":"140px",rules:B,class:"config-form"},{default:s(()=>[a(x,{label:"安全配置名称",prop:"name",class:"form-item"},{default:s(()=>[a(o,{modelValue:n.value.name,"onUpdate:modelValue":e[4]||(e[4]=l=>n.value.name=l),placeholder:"请输入安全配置项名称"},null,8,["modelValue"])]),_:1}),a(x,{label:"安全参数值",prop:"value",class:"form-item"},{default:s(()=>[a(o,{modelValue:n.value.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value.value=l),placeholder:"请输入安全参数值"},null,8,["modelValue"])]),_:1}),a(x,{label:"安全描述",prop:"description",class:"form-item"},{default:s(()=>[a(o,{modelValue:n.value.description,"onUpdate:modelValue":e[6]||(e[6]=l=>n.value.description=l),type:"textarea",rows:4,placeholder:"请输入该安全配置的详细描述",class:"desc-textarea"},null,8,["modelValue"])]),_:1}),a(x,{label:"配置状态",prop:"status",class:"form-item"},{default:s(()=>[a(X,{modelValue:n.value.status,"onUpdate:modelValue":e[7]||(e[7]=l=>n.value.status=l),"active-value":"active","inactive-value":"inactive","active-text":"启用","inactive-text":"禁用",class:"status-switch"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},Fe=ee(Ee,[["__scopeId","data-v-d6577e84"]]);export{Fe as default};
