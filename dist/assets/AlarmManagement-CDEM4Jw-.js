import{_ as pe}from"./_plugin-vue_export-helper--ScQKs0c.js";/* empty css                   *//* empty css                     *//* empty css                       *//* empty css                   *//* empty css                             *//* empty css                        *//* empty css               *//* empty css                  *//* empty css                 *//* empty css                *//* empty css                             */import{r,m as O,z as me,c as $,o as V,e as l,w as a,E as fe,f as _e,d,i as ge,Y as he,j as be,J as Ce,$ as j,a0 as q,H as z,K as we,T as ye,U as Ve,k as v,L as xe,M as Ee,N as De,D as _,X as ke,O as Me,I as Le,P as Se,Q as $e,g as Te,h as Ue,F as ze,Z as Ie,l as I,_ as Ae}from"./index-Dr9TPxTp.js";const Be={class:"alarm-management"},Pe={class:"filter-container"},Fe={class:"table-header"},Ne={class:"pagination-container"},Re={class:"alarm-detail"},Ke={class:"detail-value"},Oe={class:"detail-value"},je={class:"detail-value"},qe={class:"detail-value"},Qe={class:"detail-value"},Ge={class:"description-content"},He={key:0,class:"action-buttons"},Je={class:"export-dialog"},Xe={__name:"AlarmManagement",setup(Ye){const Q=()=>{const t=["ç´§æ€¥","ä¸¥é‡","è­¦å‘Š","æç¤º"],e=["æœªå¤„ç†","å·²å¤„ç†"],n=["é˜²ç«å¢™","å…¥ä¾µæ£€æµ‹","æ¼æ´æ‰«æ","æ—¥å¿—å®¡è®¡","ç½‘ç»œæµé‡"],s=["ç½‘ç»œæ”»å‡»å‘Šè­¦","å¼‚å¸¸æµé‡æ£€æµ‹","ç³»ç»Ÿæ¼æ´å‘Šè­¦","ç™»å½•å¼‚å¸¸å‘Šè­¦","é…ç½®å˜æ›´å‘Šè­¦","è®¾å¤‡ç¦»çº¿å‘Šè­¦","ç—…æ¯’æ£€æµ‹å‘Šè­¦","æ•°æ®æ³„éœ²å‘Šè­¦"],u=[];for(let c=1;c<=50;c++){const p=t[Math.floor(Math.random()*t.length)],D=e[Math.floor(Math.random()*e.length)],m=n[Math.floor(Math.random()*n.length)],h=s[Math.floor(Math.random()*s.length)];u.push({id:c,title:`${h} #${c}`,content:`æ£€æµ‹åˆ°${m}${h}`,level:p,status:D,time:new Date(Date.now()-Math.floor(Math.random()*7*24*60*60*1e3)).toLocaleString(),source:m,description:`è¿™æ˜¯å…³äº${h}çš„è¯¦ç»†æè¿°ã€‚å‘Šè­¦çº§åˆ«ä¸º${p}ï¼Œå½“å‰çŠ¶æ€ä¸º${D}ã€‚éœ€è¦ç›¸å…³äººå‘˜åŠæ—¶${D==="æœªå¤„ç†"?"å¤„ç†":"ç¡®è®¤"}ã€‚`})}return u},C=r([]),A=r(!0),w=r(""),x=r(""),E=r(""),f=r([]),g=r(1),k=r(10),y=r("time"),M=r("descending"),S=r(!1),i=r({}),L=r(!1),T=r("csv"),U=r([]),G=r([{value:"ç´§æ€¥",label:"ç´§æ€¥"},{value:"ä¸¥é‡",label:"ä¸¥é‡"},{value:"è­¦å‘Š",label:"è­¦å‘Š"},{value:"æç¤º",label:"æç¤º"}]),H=r([{value:"æœªå¤„ç†",label:"æœªå¤„ç†"},{value:"å·²å¤„ç†",label:"å·²å¤„ç†"}]),J=O(()=>{let t=C.value;if(w.value){const s=w.value.toLowerCase();t=t.filter(u=>u.title.toLowerCase().includes(s)||u.content.toLowerCase().includes(s)||u.source.toLowerCase().includes(s))}if(x.value&&(t=t.filter(s=>s.level===x.value)),E.value&&(t=t.filter(s=>s.status===E.value)),f.value&&f.value.length===2){const[s,u]=f.value;t=t.filter(c=>{const p=new Date(c.time);return p>=s&&p<=u})}y.value&&M.value&&(t=[...t].sort((s,u)=>{if(y.value==="time"){const c=new Date(s.time).getTime(),p=new Date(u.time).getTime();return M.value==="ascending"?c-p:p-c}return s[y.value]<u[y.value]?M.value==="ascending"?-1:1:s[y.value]>u[y.value]?M.value==="ascending"?1:-1:0}));const e=(g.value-1)*k.value,n=e+k.value;return t.slice(e,n)}),X=O(()=>{let t=C.value;if(w.value){const e=w.value.toLowerCase();t=t.filter(n=>n.title.toLowerCase().includes(e)||n.content.toLowerCase().includes(e)||n.source.toLowerCase().includes(e))}if(x.value&&(t=t.filter(e=>e.level===x.value)),E.value&&(t=t.filter(e=>e.status===E.value)),f.value&&f.value.length===2){const[e,n]=f.value;t=t.filter(s=>{const u=new Date(s.time);return u>=e&&u<=n})}return t.length}),B=t=>{switch(t){case"ç´§æ€¥":return"danger";case"ä¸¥é‡":return"warning";case"è­¦å‘Š":return"info";case"æç¤º":return"";default:return""}},P=()=>{g.value=1},Y=()=>{w.value="",g.value=1},F=()=>{g.value=1},Z=()=>{g.value=1},W=t=>{k.value=t},ee=t=>{g.value=t},le=({prop:t,order:e})=>{y.value=t,M.value=e},te=t=>{i.value=t,S.value=!0},ae=()=>{const t=C.value.findIndex(e=>e.id===i.value.id);t!==-1&&(C.value[t].status="å·²å¤„ç†",i.value.status="å·²å¤„ç†",I.success("å‘Šè­¦å·²æ ‡è®°ä¸ºå·²å¤„ç†"))},oe=()=>{Ae.confirm("ç¡®å®šè¦å¿½ç•¥æ­¤å‘Šè­¦å—ï¼Ÿå¿½ç•¥åè¯¥å‘Šè­¦å°†ä¸å†æ˜¾ç¤º","å¿½ç•¥å‘Šè­¦ç¡®è®¤",{confirmButtonText:"ç¡®è®¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{const t=C.value.findIndex(e=>e.id===i.value.id);t!==-1&&(C.value.splice(t,1),S.value=!1,I.success("å‘Šè­¦å·²å¿½ç•¥"))}).catch(()=>{})},se=()=>{L.value=!0,U.value=f.value.length===2?[...f.value]:[]},ne=()=>{L.value=!1,I.success(`å‘Šè­¦æ•°æ®å·²å¯¼å‡ºä¸º${T.value.toUpperCase()}æ ¼å¼`)};return me(()=>{setTimeout(()=>{C.value=Q(),A.value=!1},800)}),(t,e)=>{const n=be,s=ge,u=we,c=Ce,p=ye,D=fe,m=Ee,h=De,ue=xe,re=Me,b=$e,ie=Se,N=_e,R=Ie,de=ze,K=Ue,ce=Te,ve=ke;return V(),$("div",Be,[l(D,{class:"filter-card",shadow:"hover"},{default:a(()=>[d("div",Pe,[l(s,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=o=>w.value=o),placeholder:"æœç´¢å‘Šè­¦å†…å®¹",class:"search-input",clearable:"",onClear:Y,onKeyup:he(P,["enter"])},{append:a(()=>[l(n,{onClick:P},{default:a(()=>[...e[11]||(e[11]=[d("span",{class:"search-icon"},"ğŸ”",-1)])]),_:1})]),_:1},8,["modelValue"]),l(c,{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=o=>x.value=o),placeholder:"å‘Šè­¦çº§åˆ«",class:"level-select",clearable:"",onChange:F},{default:a(()=>[(V(!0),$(j,null,q(G.value,o=>(V(),z(u,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(c,{modelValue:E.value,"onUpdate:modelValue":e[2]||(e[2]=o=>E.value=o),placeholder:"å‘Šè­¦çŠ¶æ€",class:"status-select",clearable:"",onChange:F},{default:a(()=>[(V(!0),$(j,null,q(H.value,o=>(V(),z(u,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(p,{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=o=>f.value=o),type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ",class:"date-picker",onChange:Z},null,8,["modelValue"])])]),_:1}),l(D,{class:"table-card",shadow:"hover"},{default:a(()=>[d("div",Fe,[e[13]||(e[13]=d("h3",null,"ç½‘ç»œå®‰å…¨å‘Šè­¦åˆ—è¡¨",-1)),l(n,{type:"primary",onClick:se,class:"export-btn"},{default:a(()=>[...e[12]||(e[12]=[v(" å¯¼å‡ºæŠ¥è¡¨ ",-1)])]),_:1})]),Ve((V(),z(ue,{data:J.value,style:{width:"100%"},"default-sort":{prop:"time",order:"descending"},onSortChange:le,stripe:"",border:""},{default:a(()=>[l(m,{prop:"id",label:"ID",width:"80",sortable:"",align:"center"}),l(m,{prop:"title",label:"å‘Šè­¦æ ‡é¢˜","min-width":"180"}),l(m,{prop:"content",label:"å‘Šè­¦å†…å®¹","min-width":"250"}),l(m,{prop:"level",label:"çº§åˆ«",width:"100",sortable:"",align:"center"},{default:a(({row:o})=>[l(h,{type:B(o.level),effect:"light",class:"level-tag"},{default:a(()=>[v(_(o.level),1)]),_:2},1032,["type"])]),_:1}),l(m,{prop:"status",label:"çŠ¶æ€",width:"120",align:"center"},{default:a(({row:o})=>[l(h,{type:o.status==="å·²å¤„ç†"?"success":"danger",effect:"light",class:"status-tag"},{default:a(()=>[v(_(o.status),1)]),_:2},1032,["type"])]),_:1}),l(m,{prop:"time",label:"æ—¶é—´",width:"180",sortable:""}),l(m,{prop:"source",label:"æ¥æº",width:"120"}),l(m,{label:"æ“ä½œ",width:"120",fixed:"right",align:"center"},{default:a(({row:o})=>[l(n,{size:"small",type:"primary",plain:"",onClick:Ze=>te(o)},{default:a(()=>[...e[14]||(e[14]=[v(" è¯¦æƒ… ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[ve,A.value]]),d("div",Ne,[l(re,{"current-page":g.value,"onUpdate:currentPage":e[4]||(e[4]=o=>g.value=o),"page-size":k.value,"onUpdate:pageSize":e[5]||(e[5]=o=>k.value=o),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:X.value,onSizeChange:W,onCurrentChange:ee},null,8,["current-page","page-size","total"])])]),_:1}),l(N,{modelValue:S.value,"onUpdate:modelValue":e[6]||(e[6]=o=>S.value=o),title:`å‘Šè­¦è¯¦æƒ… - ${i.value.title}`,width:"50%",class:"alarm-detail-dialog"},{default:a(()=>[d("div",Re,[l(ie,{column:1,border:""},{default:a(()=>[l(b,{label:"å‘Šè­¦ID"},{default:a(()=>[d("span",Ke,_(i.value.id),1)]),_:1}),l(b,{label:"å‘Šè­¦æ ‡é¢˜"},{default:a(()=>[d("span",Oe,_(i.value.title),1)]),_:1}),l(b,{label:"å‘Šè­¦å†…å®¹"},{default:a(()=>[d("span",je,_(i.value.content),1)]),_:1}),l(b,{label:"å‘Šè­¦çº§åˆ«"},{default:a(()=>[l(h,{type:B(i.value.level),effect:"light",class:"level-tag"},{default:a(()=>[v(_(i.value.level),1)]),_:1},8,["type"])]),_:1}),l(b,{label:"å‘Šè­¦çŠ¶æ€"},{default:a(()=>[l(h,{type:i.value.status==="å·²å¤„ç†"?"success":"danger",effect:"light",class:"status-tag"},{default:a(()=>[v(_(i.value.status),1)]),_:1},8,["type"])]),_:1}),l(b,{label:"å‘Šè­¦æ—¶é—´"},{default:a(()=>[d("span",qe,_(i.value.time),1)]),_:1}),l(b,{label:"å‘Šè­¦æ¥æº"},{default:a(()=>[d("span",Qe,_(i.value.source),1)]),_:1}),l(b,{label:"è¯¦ç»†æè¿°"},{default:a(()=>[d("div",Ge,_(i.value.description),1)]),_:1})]),_:1}),i.value.status==="æœªå¤„ç†"?(V(),$("div",He,[l(n,{type:"success",onClick:ae,class:"process-btn"},{default:a(()=>[...e[15]||(e[15]=[v(" æ ‡è®°ä¸ºå·²å¤„ç† ",-1)])]),_:1}),l(n,{type:"warning",onClick:oe,class:"ignore-btn"},{default:a(()=>[...e[16]||(e[16]=[v(" å¿½ç•¥æ­¤å‘Šè­¦ ",-1)])]),_:1})])):Le("",!0)])]),_:1},8,["modelValue","title"]),l(N,{modelValue:L.value,"onUpdate:modelValue":e[10]||(e[10]=o=>L.value=o),title:"å¯¼å‡ºå‘Šè­¦æŠ¥è¡¨",width:"30%"},{footer:a(()=>[l(n,{onClick:e[9]||(e[9]=o=>L.value=!1)},{default:a(()=>[...e[19]||(e[19]=[v("å–æ¶ˆ",-1)])]),_:1}),l(n,{type:"primary",onClick:ne},{default:a(()=>[...e[20]||(e[20]=[v("ç¡®è®¤å¯¼å‡º",-1)])]),_:1})]),default:a(()=>[d("div",Je,[l(ce,{"label-width":"100px"},{default:a(()=>[l(K,{label:"å¯¼å‡ºæ ¼å¼"},{default:a(()=>[l(de,{modelValue:T.value,"onUpdate:modelValue":e[7]||(e[7]=o=>T.value=o)},{default:a(()=>[l(R,{label:"csv"},{default:a(()=>[...e[17]||(e[17]=[v("CSV",-1)])]),_:1}),l(R,{label:"excel"},{default:a(()=>[...e[18]||(e[18]=[v("Excel",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(K,{label:"æ—¶é—´èŒƒå›´"},{default:a(()=>[l(p,{modelValue:U.value,"onUpdate:modelValue":e[8]||(e[8]=o=>U.value=o),type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}},vl=pe(Xe,[["__scopeId","data-v-1732fe15"]]);export{vl as default};
